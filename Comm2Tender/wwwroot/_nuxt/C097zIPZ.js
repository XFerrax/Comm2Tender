import{H as p,r as m,h as f}from"./SI7jkw24.js";import{_ as y}from"./BSqYvhTr.js";import{d as h,r as i,o as v,N as b,t as g,L as S,A,z as B,M as l,ax as q,S as I}from"./01VIqO6s.js";const k=h({__name:"Select",props:{value:{type:Number,default:0},visible:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},hideDetails:{type:Boolean,default:!1},rules:{type:Array,default(){return[]}},apiAddress:String,itemTitle:String,label:String,prependIcon:{type:String,default:""}},setup(e){const t=e,n=i([]),s=i(!1),u=i(""),o=f();v(()=>{d()});function d(){s.value=!0;const r=o.BuildQuery(p.post,o.getListRequest({}));b(`${t.apiAddress}/search`,r).then(a=>{n.value=a.items}).catch(()=>{}).finally(()=>{s.value=!1})}return(r,a)=>e.visible?(g(),S(q,{key:0,"hide-details":e.hideDetails,value:e.value,readonly:e.readonly,items:l(n),rules:e.rules,loading:l(s),"search-input":l(u),placeholder:"Начните набирать текст для поиска","menu-props":{transition:"slide-y-transition"},"item-title":t.itemTitle,"item-value":`${t.apiAddress}Id`,clearable:!e.readonly,"prepend-icon":t.prependIcon,onInput:a[0]||(a[0]=c=>r.$emit("input",c))},{label:A(()=>[B(y,{required:e.rules.includes(l(m)),label:t.label},null,8,["required","label"])]),_:1},8,["hide-details","value","readonly","items","rules","loading","search-input","item-title","item-value","clearable","prepend-icon"])):I("",!0)}});export{k as _};
